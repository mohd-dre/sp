{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar DEFAULT_OPTIONS = {\n  background: '#000',\n  completeRatio: 1,\n  enabled: true,\n  onComplete: null,\n  onProgress: null,\n  size: 40\n};\nvar getElementComputedStyled = function getElementComputedStyled(element, prop) {\n  return parseFloat(getComputedStyle(element, null)[prop].replace('px', ''));\n};\nvar factory = function factory() {\n  var _canvas = null;\n  var _context = null;\n  var _data = {};\n  var _handleEraserProgress = function _handleEraserProgress(currentX, currentY) {\n    var _data2 = _data,\n      colParts = _data2.colParts,\n      numParts = _data2.numParts,\n      completeRatio = _data2.completeRatio,\n      enabled = _data2.enabled,\n      size = _data2.size,\n      onComplete = _data2.onComplete,\n      onProgress = _data2.onProgress;\n    if (!enabled) return;\n    var p = Math.floor(currentX / size) + Math.floor(currentY / size) * colParts;\n    if (p >= 0 && p < numParts) {\n      _data.ratio += _data.parts[p];\n      _data.parts[p] = 0;\n      if (!_data.complete) {\n        p = _data.ratio / _data.numParts;\n        if (p >= completeRatio) {\n          _data.complete = true;\n          if (onComplete) {\n            onComplete();\n          }\n          return;\n        }\n        if (onProgress) {\n          onProgress(p);\n        }\n      }\n    }\n  };\n  var _onMouseMove = function _onMouseMove(event) {\n    event.preventDefault();\n    var _data3 = _data,\n      enabled = _data3.enabled,\n      posX = _data3.posX,\n      posY = _data3.posY,\n      scaleRatio = _data3.scaleRatio,\n      touchX = _data3.touchX,\n      touchY = _data3.touchY;\n    var currentX = (event.pageX - posX) * scaleRatio;\n    var currentY = (event.pageY - posY) * scaleRatio;\n    if (enabled) {\n      _handleEraserProgress(currentX, currentY);\n      _context.beginPath();\n      _context.moveTo(touchX, touchY);\n      _context.lineTo(currentX, currentY);\n      _context.stroke();\n    }\n    _data.touchX = currentX;\n    _data.touchY = currentY;\n  };\n  var _onMouseDown = function _onMouseDown(event) {\n    event.preventDefault();\n    var _data4 = _data,\n      enabled = _data4.enabled,\n      posX = _data4.posX,\n      posY = _data4.posY,\n      scaleRatio = _data4.scaleRatio;\n    var currentX = (event.pageX - posX) * scaleRatio;\n    var currentY = (event.pageY - posY) * scaleRatio;\n    _data.touchDown = true;\n    _data.touchX = currentX;\n    _data.touchY = currentY;\n    if (enabled) {\n      _handleEraserProgress(currentX, currentY);\n      _context.beginPath();\n      _context.moveTo(currentX - 1, currentY);\n      _context.lineTo(currentX, currentY);\n      _context.stroke();\n    }\n    _canvas.addEventListener('mousemove', _onMouseMove);\n  };\n  var _onMouseClick = function _onMouseClick(event) {\n    event.preventDefault();\n    var _data5 = _data,\n      enabled = _data5.enabled,\n      posX = _data5.posX,\n      posY = _data5.posY,\n      scaleRatio = _data5.scaleRatio;\n    var currentX = (event.pageX - posX) * scaleRatio;\n    var currentY = (event.pageY - posY) * scaleRatio;\n    _data.touchDown = true;\n    _data.touchX = currentX;\n    _data.touchY = currentY;\n    if (enabled) {\n      _handleEraserProgress(currentX, currentY);\n      _context.beginPath();\n      _context.moveTo(currentX - 1, currentY);\n      _context.lineTo(currentX, currentY);\n      _context.stroke();\n    }\n    _canvas.addEventListener('mousemove', _onMouseMove);\n  };\n  var init = function init(source) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!source) {\n      throw new Error('No source element provided. It must be an HTML canvas element.');\n    }\n    var currentOptions = _objectSpread(_objectSpread({}, DEFAULT_OPTIONS), options);\n    var size = currentOptions.size,\n      background = currentOptions.background;\n    _canvas = source;\n    _context = _canvas.getContext('2d');\n    var devicePixelRatio = window.devicePixelRatio || 1;\n    var backingStoreRatio = _context.webkitBackingStorePixelRatio || _context.mozBackingStorePixelRatio || _context.msBackingStorePixelRatio || _context.oBackingStorePixelRatio || _context.backingStorePixelRatio || 1;\n    var scaleRatio = devicePixelRatio / backingStoreRatio;\n    var realWidth = getElementComputedStyled(_canvas, 'width');\n    var realHeight = getElementComputedStyled(_canvas, 'height');\n    var width = realWidth * scaleRatio;\n    var height = realHeight * scaleRatio;\n    if (devicePixelRatio !== backingStoreRatio) {\n      _canvas.width = width;\n      _canvas.height = height;\n      _canvas.style.width = \"\".concat(realWidth, \"px\");\n      _canvas.style.height = \"\".concat(realHeight, \"px\");\n    } else {\n      _canvas.width = realWidth;\n      _canvas.height = realHeight;\n      _canvas.style.width = '';\n      _canvas.style.height = '';\n    }\n\n    // _context.scale(scaleRatio, scaleRatio);\n    _context.fillStyle = background;\n    _context.fillRect(0, 0, width, height);\n    _context.drawImage(_canvas, 0, 0, width, height);\n\n    // prepare context for drawing operations\n    _context.globalCompositeOperation = 'destination-out';\n    _context.lineWidth = size;\n    _context.lineCap = 'round';\n\n    // bind events\n    _canvas.addEventListener('mouseenter', _onMouseDown);\n    _canvas.addEventListener('click', _onMouseClick);\n    // _canvas.addEventListener('touchstart', _onTouchStart);\n    // _canvas.addEventListener('touchmove', _onTouchMove);\n    // _canvas.addEventListener('touchend', _onTouchEnd);\n\n    // reset parts\n    var parts = [];\n    var colParts = Math.floor(width / size);\n    var numParts = colParts * Math.floor(height / size);\n    for (var i = 0; i < numParts; i++) {\n      parts.push(1);\n    }\n    _data = _objectSpread({\n      posX: _canvas.offsetLeft,\n      posY: _canvas.offsetTop,\n      touchDown: false,\n      touchID: -999,\n      touchX: 0,\n      touchY: 0,\n      ptouchX: 0,\n      ptouchY: 0,\n      w: width,\n      h: height,\n      scaleRatio: scaleRatio,\n      ratio: 0,\n      complete: false,\n      currentOptions: currentOptions\n    }, currentOptions);\n  };\n  var clear = function clear() {\n    var _data6 = _data,\n      w = _data6.w,\n      h = _data6.h,\n      numParts = _data6.numParts,\n      onComplete = _data6.onComplete;\n    if (_data) {\n      _context.clearRect(0, 0, w, h);\n      for (var i = 0; i < numParts; i++) {\n        _data.parts[i] = 0;\n      }\n      _data.ratio = numParts;\n      _data.complete = true;\n      if (onComplete) {\n        onComplete();\n      }\n    }\n  };\n  var reset = function reset() {\n    var _data7 = _data,\n      w = _data7.w,\n      h = _data7.h,\n      numParts = _data7.numParts;\n    _context.globalCompositeOperation = 'source-over';\n    _context.drawImage(_canvas, 0, 0, w, h);\n    _context.globalCompositeOperation = 'destination-out';\n    for (var i = 0; i < numParts; i++) {\n      _data.parts[i] = 1;\n    }\n    _data.ratio = 0;\n    _data.complete = false;\n    _data.touchDown = false;\n  };\n  return {\n    init: init,\n    clear: clear,\n    reset: reset\n  };\n};\nexport default factory;","map":{"version":3,"names":["DEFAULT_OPTIONS","background","completeRatio","enabled","onComplete","onProgress","size","getElementComputedStyled","element","prop","parseFloat","getComputedStyle","replace","factory","_canvas","_context","_data","_handleEraserProgress","currentX","currentY","_data2","colParts","numParts","p","Math","floor","ratio","parts","complete","_onMouseMove","event","preventDefault","_data3","posX","posY","scaleRatio","touchX","touchY","pageX","pageY","beginPath","moveTo","lineTo","stroke","_onMouseDown","_data4","touchDown","addEventListener","_onMouseClick","_data5","init","source","options","arguments","length","undefined","Error","currentOptions","_objectSpread","getContext","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","realWidth","realHeight","width","height","style","concat","fillStyle","fillRect","drawImage","globalCompositeOperation","lineWidth","lineCap","i","push","offsetLeft","offsetTop","touchID","ptouchX","ptouchY","w","h","clear","_data6","clearRect","reset","_data7"],"sources":["/Users/mohd/Documents/GitHub/sp/components/CanvasEraser/CanvasEraserFactory.js"],"sourcesContent":["const DEFAULT_OPTIONS = {\n  background: '#000',\n  completeRatio: 1,\n  enabled: true,\n  onComplete: null,\n  onProgress: null,\n  size: 40,\n};\n\nconst getElementComputedStyled = (element, prop) =>\n  parseFloat(getComputedStyle(element, null)[prop].replace('px', ''));\n\nconst factory = () => {\n  let _canvas = null;\n  let _context = null;\n  let _data = {};\n\n  const _handleEraserProgress = (currentX, currentY) => {\n    const {\n      colParts,\n      numParts,\n      completeRatio,\n      enabled,\n      size,\n      onComplete,\n      onProgress,\n    } = _data;\n\n    if (!enabled) return;\n\n    let p =\n      Math.floor(currentX / size) + Math.floor(currentY / size) * colParts;\n\n    if (p >= 0 && p < numParts) {\n      _data.ratio += _data.parts[p];\n      _data.parts[p] = 0;\n\n      if (!_data.complete) {\n        p = _data.ratio / _data.numParts;\n\n        if (p >= completeRatio) {\n          _data.complete = true;\n          if (onComplete) {\n            onComplete();\n          }\n          return;\n        }\n\n        if (onProgress) {\n          onProgress(p);\n        }\n      }\n    }\n  };\n\n  const _onMouseMove = event => {\n    event.preventDefault();\n\n    const { enabled, posX, posY, scaleRatio, touchX, touchY } = _data;\n    const currentX = (event.pageX - posX) * scaleRatio;\n    const currentY = (event.pageY - posY) * scaleRatio;\n\n    if (enabled) {\n      _handleEraserProgress(currentX, currentY);\n      _context.beginPath();\n      _context.moveTo(touchX, touchY);\n      _context.lineTo(currentX, currentY);\n      _context.stroke();\n    }\n\n    _data.touchX = currentX;\n    _data.touchY = currentY;\n  };\n\n  const _onMouseDown = event => {\n    event.preventDefault();\n\n    const { enabled, posX, posY, scaleRatio } = _data;\n    const currentX = (event.pageX - posX) * scaleRatio;\n    const currentY = (event.pageY - posY) * scaleRatio;\n\n    _data.touchDown = true;\n    _data.touchX = currentX;\n    _data.touchY = currentY;\n\n    if (enabled) {\n      _handleEraserProgress(currentX, currentY);\n\n      _context.beginPath();\n      _context.moveTo(currentX - 1, currentY);\n      _context.lineTo(currentX, currentY);\n      _context.stroke();\n    }\n\n    _canvas.addEventListener('mousemove', _onMouseMove);\n  };\n\n  const _onMouseClick = event => {\n    event.preventDefault();\n\n    const { enabled, posX, posY, scaleRatio } = _data;\n    const currentX = (event.pageX - posX) * scaleRatio;\n    const currentY = (event.pageY - posY) * scaleRatio;\n\n    _data.touchDown = true;\n    _data.touchX = currentX;\n    _data.touchY = currentY;\n\n    if (enabled) {\n      _handleEraserProgress(currentX, currentY);\n\n      _context.beginPath();\n      _context.moveTo(currentX - 1, currentY);\n      _context.lineTo(currentX, currentY);\n      _context.stroke();\n    }\n\n    _canvas.addEventListener('mousemove', _onMouseMove);\n  };\n\n  const init = (source, options = {}) => {\n    if (!source) {\n      throw new Error(\n        'No source element provided. It must be an HTML canvas element.',\n      );\n    }\n\n    const currentOptions = { ...DEFAULT_OPTIONS, ...options };\n    const { size, background } = currentOptions;\n\n    _canvas = source;\n    _context = _canvas.getContext('2d');\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    const backingStoreRatio =\n      _context.webkitBackingStorePixelRatio ||\n      _context.mozBackingStorePixelRatio ||\n      _context.msBackingStorePixelRatio ||\n      _context.oBackingStorePixelRatio ||\n      _context.backingStorePixelRatio ||\n      1;\n    const scaleRatio = devicePixelRatio / backingStoreRatio;\n\n    const realWidth = getElementComputedStyled(_canvas, 'width');\n    const realHeight = getElementComputedStyled(_canvas, 'height');\n    const width = realWidth * scaleRatio;\n    const height = realHeight * scaleRatio;\n\n    if (devicePixelRatio !== backingStoreRatio) {\n      _canvas.width = width;\n      _canvas.height = height;\n      _canvas.style.width = `${realWidth}px`;\n      _canvas.style.height = `${realHeight}px`;\n    } else {\n      _canvas.width = realWidth;\n      _canvas.height = realHeight;\n      _canvas.style.width = '';\n      _canvas.style.height = '';\n    }\n\n    // _context.scale(scaleRatio, scaleRatio);\n    _context.fillStyle = background;\n    _context.fillRect(0, 0, width, height);\n    _context.drawImage(_canvas, 0, 0, width, height);\n\n    // prepare context for drawing operations\n    _context.globalCompositeOperation = 'destination-out';\n    _context.lineWidth = size;\n    _context.lineCap = 'round';\n\n    // bind events\n    _canvas.addEventListener('mouseenter', _onMouseDown);\n    _canvas.addEventListener('click', _onMouseClick);\n    // _canvas.addEventListener('touchstart', _onTouchStart);\n    // _canvas.addEventListener('touchmove', _onTouchMove);\n    // _canvas.addEventListener('touchend', _onTouchEnd);\n\n    // reset parts\n    const parts = [];\n    const colParts = Math.floor(width / size);\n    const numParts = colParts * Math.floor(height / size);\n    for (let i = 0; i < numParts; i++) {\n      parts.push(1);\n    }\n\n    _data = {\n      posX: _canvas.offsetLeft,\n      posY: _canvas.offsetTop,\n      touchDown: false,\n      touchID: -999,\n      touchX: 0,\n      touchY: 0,\n      ptouchX: 0,\n      ptouchY: 0,\n      w: width,\n      h: height,\n      scaleRatio: scaleRatio,\n      ratio: 0,\n      complete: false,\n      currentOptions,\n      ...currentOptions,\n    };\n  };\n\n  const clear = () => {\n    const { w, h, numParts, onComplete } = _data;\n\n    if (_data) {\n      _context.clearRect(0, 0, w, h);\n\n      for (let i = 0; i < numParts; i++) {\n        _data.parts[i] = 0;\n      }\n\n      _data.ratio = numParts;\n      _data.complete = true;\n\n      if (onComplete) {\n        onComplete();\n      }\n    }\n  };\n\n  const reset = () => {\n    const { w, h, numParts } = _data;\n\n    _context.globalCompositeOperation = 'source-over';\n    _context.drawImage(_canvas, 0, 0, w, h);\n    _context.globalCompositeOperation = 'destination-out';\n\n    for (let i = 0; i < numParts; i++) {\n      _data.parts[i] = 1;\n    }\n\n    _data.ratio = 0;\n    _data.complete = false;\n    _data.touchDown = false;\n  };\n\n  return {\n    init,\n    clear,\n    reset,\n  };\n};\n\nexport default factory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}